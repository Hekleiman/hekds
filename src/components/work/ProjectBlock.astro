---
interface Props {
  title: string;
  slug: string;
  category: string;
  year: string;
  description: string;
  tags: string[];
  thumbnail?: string;
  imageLeft?: boolean;
  class?: string;
}

const {
  title,
  slug,
  category,
  year,
  description,
  tags,
  thumbnail,
  imageLeft = true,
  class: className,
} = Astro.props;
---

<a
  href={`/work/${slug}`}
  class:list={[
    'project-block group grid grid-cols-1 md:grid-cols-2 gap-12 items-center',
    className,
  ]}
>
  <!-- Image Column -->
  <div class:list={[
    'relative aspect-[4/3] rounded-xl overflow-hidden border border-zinc-700/50 bg-zinc-800/50',
    !imageLeft && 'md:order-2',
  ]}>
    {thumbnail ? (
      <img
        src={thumbnail}
        alt={title}
        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-[1.02]"
      />
    ) : (
      <div class="w-full h-full flex items-center justify-center">
        <svg
          width="64"
          height="64"
          viewBox="0 0 64 64"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="text-zinc-400 opacity-50"
        >
          <rect
            x="8"
            y="14"
            width="48"
            height="36"
            rx="2"
            stroke="currentColor"
            stroke-width="2"
          />
          <circle cx="20" cy="26" r="4" stroke="currentColor" stroke-width="2" />
          <path
            d="M8 42L20 32L32 40L44 30L56 38"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
    )}
  </div>

  <!-- Text Column -->
  <div class:list={[
    'flex flex-col',
    !imageLeft && 'md:order-1',
  ]}>
    <!-- Category + Year Label -->
    <p class="text-sm text-zinc-400 mb-4">
      {category} Â· {year}
    </p>

    <!-- Project Name -->
    <h2 class="text-3xl md:text-4xl font-bold text-white mb-4 transition-colors duration-200 group-hover:text-zinc-200">
      {title}
    </h2>

    <!-- Description -->
    <p class="text-zinc-400 mb-6 leading-relaxed">
      {description}
    </p>

    <!-- Tech Tags -->
    <div class="flex flex-wrap gap-2">
      {tags.map((tag) => (
        <span class="border border-zinc-700 rounded-full px-4 py-1 text-sm text-zinc-400">
          {tag}
        </span>
      ))}
    </div>
  </div>
</a>
